var Muncipio={},Municipio={};jQuery(".index-php #screen-meta-links").append('    <div id="screen-options-show-lathund-wrap" class="hide-if-no-js screen-meta-toggle">        <a href="http://lathund.helsingborg.se" id="show-lathund" target="_blank" class="button show-settings">Lathund</a>    </div>'),jQuery(document).ready(function(){jQuery('.acf-field-url input[type="url"]').parents("form").attr("novalidate","novalidate")}),Muncipio=Muncipio||{},Muncipio.Ajax=Muncipio.Ajax||{},Muncipio.Ajax.LikeButton=function(e){function t(){this.init()}return t.prototype.init=function(){e("a.like-button").on("click",function(e){return this.ajaxCall(e.target),!1}.bind(this))},t.prototype.ajaxCall=function(t){var n=e(t).data("comment-id"),i=e("span#like-count",t),s=e(t);e.ajax({url:likeButtonData.ajax_url,type:"post",data:{action:"ajaxLikeMethod",comment_id:n,nonce:likeButtonData.nonce},beforeSend:function(){var e=i.html();s.hasClass("active")?(e--,s.toggleClass("active")):(e++,s.toggleClass("active")),i.html(e)},success:function(e){}})},new t}($),Muncipio=Muncipio||{},Muncipio.Ajax=Muncipio.Ajax||{},Muncipio.Ajax.ShareEmail=function(e){function t(){e(function(){this.handleEvents()}.bind(this))}return t.prototype.handleEvents=function(){e(document).on("submit",".social-share-email",function(e){e.preventDefault(),this.share(e)}.bind(this))},t.prototype.share=function(t){var n=e(t.target),i=new FormData(t.target);return i.append("action","share_email"),""!==i.get("g-recaptcha-response")&&(e.ajax({url:ajaxurl,type:"POST",data:i,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){n.find(".modal-footer").prepend('<div class="loading"><div></div><div></div><div></div><div></div></div>'),n.find(".notice").hide()},success:function(t,i,s){t.success?(e(".modal-footer",n).prepend('<span class="notice success gutter gutter-margin gutter-vertical"><i class="pricon pricon-check"></i> '+t.data+"</span>"),setTimeout(function(){location.hash="",n.find(".notice").hide()},3e3)):e(".modal-footer",n).prepend('<span class="notice warning gutter gutter-margin gutter-vertical"><i class="pricon pricon-notice-warning"></i> '+t.data+"</span>")},complete:function(){n.find(".loading").hide()}}),!1)},new t}(jQuery),Muncipio=Muncipio||{},Muncipio.Ajax=Muncipio.Ajax||{},Muncipio.Ajax.Suggestions=function(e){function t(){e("#filter-keyword").length&&null!=HbgPrimeArgs.api.postTypeRestUrl&&(e("#filter-keyword").attr("autocomplete","off"),this.handleEvents())}var n,i;return t.prototype.handleEvents=function(){e(document).on("keydown","#filter-keyword",function(t){var i=e(t.target),s=e(".selected","#search-suggestions");return s.siblings().length>0&&e("#search-suggestions li").removeClass("selected"),27==t.keyCode?void e("#search-suggestions").remove():void(13!=t.keyCode&&(38==t.keyCode?(0==s.prev().length?s.siblings().last().addClass("selected"):s.prev().addClass("selected"),i.val(e(".selected","#search-suggestions").text())):40==t.keyCode?(0==s.next().length?s.siblings().first().addClass("selected"):s.next().addClass("selected"),i.val(e(".selected","#search-suggestions").text())):(clearTimeout(n),n=setTimeout(function(){this.search(i.val())}.bind(this),100))))}.bind(this)),e(document).on("click",function(t){e(t.target).closest("#search-suggestions").length||e("#search-suggestions").remove()}.bind(this)),e(document).on("click","#search-suggestions li",function(t){e("#search-suggestions").remove(),e("#filter-keyword").val(e(t.target).text()).parents("form").submit()}.bind(this))},t.prototype.search=function(t){if(t===i)return!1;if(t.length<4)return e("#search-suggestions").remove(),!1;i=t;var n=HbgPrimeArgs.api.postTypeRestUrl+"?per_page=6&search="+t;e.get(n,function(n){return n.length?void this.output(n,t):void e("#search-suggestions").remove()}.bind(this),"JSON")},t.prototype.output=function(t,n){var i=e("#search-suggestions");i.length||(i=e('<div id="search-suggestions"><ul></ul></div>')),e("ul",i).empty(),e.each(t,function(t,n){e("ul",i).append("<li>"+n.title.rendered+"</li>")}),e("li",i).first().addClass("selected"),e("#filter-keyword").parent().append(i),i.slideDown(200)},new t}(jQuery);