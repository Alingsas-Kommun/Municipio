const SELECTOR_TOGGLE_BUTTON=".js-toggle-children",ATTRIBUTE_FETCH_URL="data-fetch-url",fetchMarkup=async url=>{const response=await fetch(url,{method:"GET",headers:{"Content-Type":"application/json",credentials:"same-origin"}}),{markup:markup}=await response.json();return markup},subscribeOnClick=element=>{const handleClick=e=>{const parentElement=element.parentNode,parentClassNames=[...parentElement.classList],hasFetched=parentClassNames.includes("has-fetched"),isFetching=parentClassNames.includes("is-fetching"),isLoading=parentClassNames.includes("is-loading"),fetchUrl=parentElement.getAttribute("data-fetch-url");isFetching||(hasFetched?parentElement.classList.toggle("is-open"):fetchUrl?(parentElement.classList.toggle("is-fetching"),parentElement.classList.toggle("is-loading"),fetchMarkup(fetchUrl).then(markup=>{parentElement.insertAdjacentHTML("beforeend",markup),parentElement.classList.toggle("is-fetching"),parentElement.classList.toggle("is-loading"),parentElement.classList.toggle("has-fetched"),parentElement.classList.toggle("is-open");const newSubMenu=parentElement.lastElementChild;if(newSubMenu){const newToggleButtons=newSubMenu.querySelectorAll(".js-toggle-children");newToggleButtons&&newToggleButtons.length>0&&newToggleButtons.forEach(subscribeOnClick)}}).catch(e=>{console.error(e),parentElement.classList.toggle("is-fetching"),parentElement.classList.toggle("is-loading")})):console.error("Fetch URL is not defined."))};element.addEventListener("click",handleClick)};function inIframe(){try{return window.self!==window.top}catch(e){return!0}}const init=event=>{if(inIframe()){const languageMenu=document.getElementById("site-language-menu-button");languageMenu&&languageMenu.remove()}const toggleButtons=document.querySelectorAll(".js-toggle-children");toggleButtons&&toggleButtons.length>0&&toggleButtons.forEach(subscribeOnClick)};export default void window.addEventListener("DOMContentLoaded",init);
//# sourceMappingURL=nav.min.js.map